window.addEventListener("DOMContentLoaded",()=>{if(document.querySelector("#target-nav")&&document.querySelectorAll("#target-nav a").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();e=t.getAttribute("href");document.querySelector(e).scrollIntoView({behavior:"smooth"})})}),document.querySelector("#target-cases")){var e=document.querySelector("#target-cases");const a=e.dataset.action;e.querySelectorAll("li").forEach(e=>{e.querySelector("button").addEventListener("click",e=>{e=e.target.dataset.goto;document.querySelector("#target-cases .active").classList.remove("active"),document.querySelector("#target-case").classList.add("case--loading"),document.querySelector(".cases__example").classList.add("cases__example--loading"),fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({caseID:e})}).then(e=>e.json()).then(e=>{200==e.code?t(JSON.parse(e.content)):alert(e.message)}).catch(e=>alert(e))})})}const t=t=>{if(!t)return alert("Fejl!");const a=document.querySelector("#target-case");var e;document.querySelector(`.slider-nav__btn[data-goto="${t.id}"]`).classList.add("active"),e=()=>{a.querySelector(".title").innerHTML=t.title,a.querySelector(".description__content").innerHTML=t.content,a.querySelector(".technologies").innerHTML="",Object.entries(t.technologies).reverse().forEach(e=>{output='<li class="technologies__item" title="'+e[0]+'">'+e[1]+"</li>",a.querySelector(".technologies").insertAdjacentHTML("afterbegin",output)}),a.querySelector(".btn").innerHTML="",t.links.reverse().forEach(e=>{e=`
                    <a target="_blank" href="${e.goto.url}" class="btn__link">
                        <span class="btn__gfx">
                            <svg xmlns="http://www.w3.org/2000/svg" width="23.589" height="23.589" viewBox="0 0 23.589 23.589">
                            <path id="Path_13" data-name="Path 13" d="M19.9,14.743H18.429a.737.737,0,0,0-.737.737v5.16H2.949V5.9H9.583a.737.737,0,0,0,.737-.737V3.686a.737.737,0,0,0-.737-.737H2.211A2.211,2.211,0,0,0,0,5.16V21.377a2.211,2.211,0,0,0,2.211,2.211H18.429a2.211,2.211,0,0,0,2.211-2.211v-5.9A.737.737,0,0,0,19.9,14.743ZM21.869,0h-7.31a1.29,1.29,0,0,0-1.29,1.29v.862A1.29,1.29,0,0,0,14.6,3.4l3.1-.088L6.222,14.7l0,0a1.106,1.106,0,0,0,0,1.564l1.1,1.1,0,0a1.106,1.106,0,0,0,1.562,0L20.272,5.9l-.087,3.1V9.03a1.29,1.29,0,0,0,1.29,1.29H22.3a1.29,1.29,0,0,0,1.29-1.29V1.72h0A1.72,1.72,0,0,0,21.869,0Z" fill="#282a2e"></path>
                            </svg>
                        </span>
                        ${e.goto.title}                    
                    </a>
                `;a.querySelector(".btn").insertAdjacentHTML("afterbegin",e)}),a.querySelector(".video")?(a.querySelector(".video").remove(),a.classList.remove("case--video")):a.removeAttribute("style");var e=t.cover;"mp4"==e.substr(e.lastIndexOf(".")+1)||"webm"==e.substr(e.lastIndexOf(".")+1)?(a.insertAdjacentHTML("beforeend",`<video class="video" src="${e}" muted loop autoplay><video>`),a.classList.add("case--video")):a.setAttribute("style",`background-image: url("${e}")`),document.querySelector(".cases__example").classList.remove("cases__example--loading"),a.classList.remove("case--loading")},setTimeout(()=>{e()},1e3)}});